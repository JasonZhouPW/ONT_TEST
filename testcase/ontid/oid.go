package ontid

import (
	"fmt"
	"github.com/ONT_TEST/testframework"
	// "github.com/Ontology/common"
	"github.com/Ontology/core/contract"
	"github.com/Ontology/common"
	"github.com/Ontology/smartcontract/types"
	"time"
	//"io/ioutil"
	"encoding/hex"
)

func TestONTID(ctx *testframework.TestFrameworkContext) bool {
	/*
	buf, err := ioutil.ReadFile("C:\\Users\\xkx\\Documents\\visual studio 2017\\Projects\\NeoContract1\\NeoContract1\\bin\\Debug\\NeoContract1.avm")
	if err != nil {
	 	return false
	}
	
	code := hex.EncodeToString(buf)
	*/
	code := "54c56b6c766b00527ac46c766b51527ac4616c766b00c3194372656174654964656e7469747942795075626c69634b657987009c6c766b53527ac46c766b53c3632100616c766b51c300c36c766b51c351c3617c653c056c766b52527ac462b2016c766b00c3064164644b657987009c6c766b53527ac46c766b53c3632900616c766b51c300c36c766b51c351c36c766b51c352c36152726528066c766b52527ac4626e016c766b00c30952656d6f76654b657987009c6c766b53527ac46c766b53c3634200616c766b51c300c36c766b51c351c36c766b51c352c36c766b51c353c36153795179557275517275527952795472755272756590076c766b52527ac4620e016c766b00c30c41646441747472696275746587009c6c766b53527ac46c766b53c3634900616c766b51c300c36c766b51c351c36c766b51c352c36c766b51c353c36c766b51c354c361547951795672755172755379527955727552727565300b6c766b52527ac462a4006c766b00c30b4164645265636f7665727987009c6c766b53527ac46c766b53c3632900616c766b51c300c36c766b51c351c36c766b51c352c36152726599086c766b52527ac4625b006c766b00c30e4368616e67655265636f7665727987009c6c766b53527ac46c766b53c3632900616c766b51c300c36c766b51c351c36c766b51c352c361527265aa096c766b52527ac4620f0061006c766b52527ac46203006c766b52c3616c756654c56b6c766b00527ac4616c766b00c3c06417006c766b00c3c06c766b00c300517f51939c62040000616c766b53527ac46c766b53c3630e00006c766b52527ac462d4006168164e656f2e53746f726167652e476574436f6e746578746c766b00c3617c680f4e656f2e53746f726167652e4765746c766b51527ac46c766b51c3641f006c766b51c3c051907c907c9e6310006c766b51c300517f519c62040000616c766b53527ac46c766b53c36334006111696420646f6573206e6f7420657869737461680f4e656f2e52756e74696d652e4c6f6761006c766b52527ac46236006113696420697320616c726561647920746865726561680f4e656f2e52756e74696d652e4c6f6761516c766b52527ac46203006c766b52c3616c756652c56b6c766b00527ac4616168164e656f2e53746f726167652e476574436f6e746578746c766b00c30101615272680f4e656f2e53746f726167652e50757461616c756654c56b6c766b00527ac4616168164e656f2e53746f726167652e476574436f6e746578746c766b00c30201047e617c680f4e656f2e53746f726167652e4765746c766b51527ac46c766b51c300517f6c766b52527ac46203006c766b52c3616c756653c56b6c766b00527ac46c766b51527ac4616168164e656f2e53746f726167652e476574436f6e746578746c766b00c30201047e6c766b51c361654814615272680f4e656f2e53746f726167652e50757461616c756654c56b6c766b00527ac4616168164e656f2e53746f726167652e476574436f6e746578746c766b00c30201017e617c680f4e656f2e53746f726167652e4765746c766b51527ac46c766b51c300517f6c766b52527ac46203006c766b52c3616c756653c56b6c766b00527ac46c766b51527ac4616168164e656f2e53746f726167652e476574436f6e746578746c766b00c30201017e6c766b51c361659013615272680f4e656f2e53746f726167652e50757461616c756653c56b6c766b00527ac4616168164e656f2e53746f726167652e476574436f6e746578746c766b00c30201077e617c680f4e656f2e53746f726167652e4765746c766b51527ac46203006c766b51c3616c756653c56b6c766b00527ac46c766b51527ac4616168164e656f2e53746f726167652e476574436f6e746578746c766b00c30201077e6c766b51c3615272680f4e656f2e53746f726167652e50757461616c756654c56b6c766b00527ac46c766b51527ac4616c766b00c3616571fc009c6c766b53527ac46c766b53c3630e00006c766b52527ac462f3006c766b51c36168184e656f2e52756e74696d652e436865636b5769746e6573736c766b53527ac46c766b53c363490061266d73672e73656e64657220213d2073656e64657220696e204372656174654964656e7469747961680f4e656f2e52756e74696d652e4c6f6761006c766b52527ac4627e006c766b00c36c766b51c3617c65bd08009c6c766b53527ac46c766b53c3633100616c766b00c36165d4fc616c766b00c300617c656efd616c766b00c351617c651afe61516c766b52527ac4623000610d61646420706b206661696c656461680f4e656f2e52756e74696d652e4c6f6761006c766b52527ac46203006c766b52c3616c756656c56b6c766b00527ac46c766b51527ac46c766b52527ac4616c766b00c361653afb6c766b55527ac46c766b55c3630e00006c766b54527ac46286016c766b00c36c766b52c3617c6571076426006c766b52c36168184e656f2e52756e74696d652e436865636b5769746e65737362040000616c766b55527ac46c766b55c36348006125696e76616c696420706b206f72206e6f7420696e766f6b65642062792076616c696420706b61680f4e656f2e52756e74696d652e4c6f6761006c766b54527ac462fb006c766b00c36165a6fc6c766b53527ac46c766b53c302ff009f6c766b55527ac46c766b55c3634a006127616c726561647920676f7420323535207075626c6963206b65797320696e20746865206c69737461680f4e656f2e52756e74696d652e4c6f6761006c766b54527ac4628c006c766b00c36c766b51c3617c650307009c6c766b55527ac46c766b55c3634100616c766b00c36c766b53c35193617c6570fc610c61646420737563636565642161680f4e656f2e52756e74696d652e4c6f6761516c766b54527ac4622e00610b616464206661696c65642161680f4e656f2e52756e74696d652e4c6f6761006c766b54527ac46203006c766b54c3616c756659c56b6c766b00527ac46c766b51527ac46c766b52527ac46c766b53527ac4616c766b00c361656bf96c766b58527ac46c766b58c3630e00006c766b57527ac4623b016c766b53c300517f6c766b54527ac4006c766b55527ac46c766b54c3009c009c6c766b58527ac46c766b58c3631e00616c766b00c36c766b52c3617c6572056c766b55527ac4616233006c766b54c3519c009c6c766b58527ac46c766b58c3631b00616c766b00c36c766b52c3617c65d2006c766b55527ac4616c766b55c36426006c766b52c36168184e656f2e52756e74696d652e436865636b5769746e65737362040000616c766b58527ac46c766b58c36348006125696e76616c696420706b206f72206e6f7420696e766f6b65642062792076616c696420706b61680f4e656f2e52756e74696d652e4c6f6761006c766b57527ac46240006c766b00c3616567fa6c766b56527ac46c766b00c36c766b56c35194617c65b1fa616c766b00c36c766b51c3617c65490575516c766b57527ac46203006c766b57c3616c756653c56b6c766b00527ac46c766b51527ac4616c766b51c36c766b00c36165c2fa617c65e80d6c766b52527ac46203006c766b52c3616c756656c56b6c766b00527ac46c766b51527ac46c766b52527ac4616c766b00c36165b6f76c766b55527ac46c766b55c3630e00006c766b54527ac4621b016c766b00c36c766b52c3617c65ed036426006c766b52c36168184e656f2e52756e74696d652e436865636b5769746e65737362040000616c766b55527ac46c766b55c36348006125696e76616c696420706b206f72206e6f7420696e766f6b65642062792076616c696420706b61680f4e656f2e52756e74696d652e4c6f6761006c766b54527ac46290006c766b00c36165daf96c766b53527ac46c766b53c3009c6c766b55527ac46c766b55c3634f00612c63616e6e6f7420616464206d6f72652062656361757365207468657265206973206f6e6520616c726561647961680f4e656f2e52756e74696d652e4c6f6761006c766b54527ac4621e006c766b00c36c766b51c3617c65b5f961516c766b54527ac46203006c766b54c3616c756655c56b6c766b00527ac46c766b51527ac46c766b52527ac4616c766b00c3616559f66c766b54527ac46c766b54c3630e00006c766b53527ac462af006c766b52c36c766b00c3616503f9617c65290c6426006c766b52c36168184e656f2e52756e74696d652e436865636b5769746e65737362040000616c766b54527ac46c766b54c3634a006127696e76616c696420726563206f72206e6f7420696e766f6b65642062792076616c69642072656361680f4e656f2e52756e74696d652e4c6f6761006c766b53527ac4621e006c766b00c36c766b51c3617c65c4f861516c766b53527ac46203006c766b53c3616c756659c56b6c766b00527ac46c766b51527ac46c766b52527ac46c766b53527ac46c766b54527ac4616c766b00c361655af56c766b58527ac46c766b58c3630e00006c766b57527ac46297016c766b00c36c766b54c3617c6591016426006c766b54c36168184e656f2e52756e74696d652e436865636b5769746e65737362040000616c766b58527ac46c766b58c36348006125696e76616c696420706b206f72206e6f7420696e766f6b65642062792076616c696420706b61680f4e656f2e52756e74696d652e4c6f6761006c766b57527ac4620c016c766b00c36c766b51c3617c65d3096c766b55527ac46c766b55c3009c6c766b58527ac46c766b58c363360061136174747220616c72656164792065786973747361680f4e656f2e52756e74696d652e4c6f6761006c766b57527ac462ad006c766b00c36c766b51c3617c65a301009c6c766b58527ac46c766b58c3635e00616c766b00c361658ef56c766b56527ac46c766b00c36c766b56c35193617c65d8f5616c766b00c36c766b51c36c766b52c36c766b53c361537951795572755172755279527954727552727565740961516c766b57527ac4623200610f6164642061747472206661696c656461680f4e656f2e52756e74696d652e4c6f6761006c766b57527ac46203006c766b57c3616c756655c56b6c766b00527ac46c766b51527ac4616c766b00c30201026c766b51c3615272658b07009c009c6c766b54527ac46c766b54c3634200611f646f6573206e6f74206c696520696e20746865207075626b6579206c69737461680f4e656f2e52756e74696d652e4c6f6761006c766b52527ac4620f0061516c766b52527ac46203006c766b52c3616c756654c56b6c766b00527ac46c766b51527ac4616c766b00c30201026c766b51c361527265be006c766b52527ac46203006c766b52c3616c756654c56b6c766b00527ac46c766b51527ac4616c766b00c30201026c766b51c36152726577026c766b52527ac46203006c766b52c3616c756654c56b6c766b00527ac46c766b51527ac4616c766b00c30201056c766b51c3615272654e006c766b52527ac46203006c766b52c3616c756654c56b6c766b00527ac46c766b51527ac4616c766b00c30201056c766b51c36152726507026c766b52527ac46203006c766b52c3616c756658c56b6c766b00527ac46c766b51527ac46c766b52527ac4616c766b00c36c766b51c3617c6585066c766b53527ac46c766b00c36c766b51c36c766b52c36152726500066c766b54527ac46c766b00c36c766b51c36c766b53c361527265e4056c766b55527ac46c766b54c3009c6c766b57527ac46c766b57c363360061136974656d20616c72656164792065786973747361680f4e656f2e52756e74696d652e4c6f6761006c766b56527ac4623b016c766b53c3009c009c6c766b57527ac46c766b57c3636400616168164e656f2e53746f726167652e476574436f6e746578746c766b00c36c766b51c36c766b52c37e7e0000617c65cf04615272680f4e656f2e53746f726167652e507574616c766b00c36c766b51c36c766b52c361527265e505616162b700616168164e656f2e53746f726167652e476574436f6e746578746c766b00c36c766b51c36c766b52c37e7e6c766b53c300617c656a04615272680f4e656f2e53746f726167652e507574616168164e656f2e53746f726167652e476574436f6e746578746c766b00c36c766b51c36c766b53c37e7e6c766b55c3616586036c766b52c3617c651804615272680f4e656f2e53746f726167652e507574616c766b00c36c766b51c36c766b52c3615272652e056161516c766b56527ac46203006c766b56c3616c75665bc56b6c766b00527ac46c766b51527ac46c766b52527ac4616c766b00c36c766b51c36c766b52c36152726525046c766b53527ac46c766b53c3009c009c6c766b5a527ac46c766b5ac363360061136974656d20646f6573206e6f7420657869737461680f4e656f2e52756e74696d652e4c6f6761006c766b59527ac462b302006c766b54527ac46c766b53c36165e4026c766b55527ac46c766b53c361659b026c766b56527ac46c766b55c3009c009c6c766b5a527ac46c766b5ac363bd00616c766b56c3009c009c6c766b5a527ac46c766b5ac3631e00616c766b00c36c766b51c36c766b54c36152726529046161628500616c766b00c36c766b51c36c766b56c36152726549036c766b57527ac46168164e656f2e53746f726167652e476574436f6e746578746c766b00c36c766b51c36c766b56c37e7e6c766b57c36165f80100617c658e02615272680f4e656f2e53746f726167652e507574616c766b00c36c766b51c36c766b56c361527265a403616161626a01616c766b56c3009c009c6c766b5a527ac46c766b5ac3637200616c766b00c36c766b51c36c766b55c361527265aa026c766b58527ac46168164e656f2e53746f726167652e476574436f6e746578746c766b00c36c766b51c36c766b55c37e7e006c766b58c361659101617c65ef01615272680f4e656f2e53746f726167652e507574616162e100616c766b00c36c766b51c36c766b56c3615272653b026c766b57527ac46c766b00c36c766b51c36c766b55c3615272651f026c766b58527ac46168164e656f2e53746f726167652e476574436f6e746578746c766b00c36c766b51c36c766b55c37e7e6c766b56c36c766b58c361650201617c656001615272680f4e656f2e53746f726167652e507574616168164e656f2e53746f726167652e476574436f6e746578746c766b00c36c766b51c36c766b56c37e7e6c766b57c361657c006c766b55c3617c650e01615272680f4e656f2e53746f726167652e5075746161616168164e656f2e53746f726167652e476574436f6e746578746c766b00c36c766b51c36c766b52c37e7e6c766b54c3615272680f4e656f2e53746f726167652e50757461516c766b59527ac46203006c766b59c3616c756653c56b6c766b00527ac4616c766b00c300517f6c766b51527ac46c766b00c3516c766b51c37f6c766b52527ac46203006c766b52c3616c756655c56b6c766b00527ac4616c766b00c300517f6c766b51527ac46c766b00c36c766b51c35293517f6c766b52527ac46c766b52c300517f6c766b53527ac46c766b00c36c766b51c353936c766b53c37f6c766b54527ac46203006c766b54c3616c756656c56b6c766b00527ac46c766b51527ac4616c766b00c3640c006c766b00c3c062040000616c766b52527ac46c766b51c3640c006c766b51c3c062040000616c766b53527ac46c766b52c3616568026c766b00c301016c766b53c3616558026c766b51c37e7e7e7e6c766b54527ac46203006c766b54c3616c756654c56b6c766b00527ac46c766b51527ac46c766b52527ac4616168164e656f2e53746f726167652e476574436f6e746578746c766b00c36c766b51c36c766b52c37e7e617c680f4e656f2e53746f726167652e4765746c766b53527ac46203006c766b53c3616c756653c56b6c766b00527ac46c766b51527ac4616168164e656f2e53746f726167652e476574436f6e746578746c766b00c36c766b51c37e617c680f4e656f2e53746f726167652e4765746c766b52527ac46203006c766b52c3616c756653c56b6c766b00527ac46c766b51527ac46c766b52527ac4616168164e656f2e53746f726167652e476574436f6e746578746c766b00c36c766b51c37e6c766b52c3615272680f4e656f2e53746f726167652e50757461616c756654c56b6c766b00527ac46c766b51527ac4616168164e656f2e53746f726167652e476574436f6e746578746c766b00c30201066c766b51c37e7e617c680f4e656f2e53746f726167652e4765746c766b52527ac46203006c766b52c3616c756655c56b6c766b00527ac46c766b51527ac46c766b52527ac46c766b53527ac4616168164e656f2e53746f726167652e476574436f6e746578746c766b00c30201066c766b51c37e7e6c766b52c36c766b53c3617c65b1fd615272680f4e656f2e53746f726167652e50757461616c756653c56b6c766b00527ac46c766b51527ac4616c766b00c3c06c766b51c3c0907c907c9e6311006c766b00c36c766b51c39c62040000616c766b52527ac46203006c766b52c3616c756654c56b6c766b00527ac4616c766b00c3009c009c6c766b52527ac46c766b52c3630f0001006c766b51527ac4628c176c766b00c3519c009c6c766b52527ac46c766b52c3630f0001016c766b51527ac46268176c766b00c3529c009c6c766b52527ac46c766b52c3630f0001026c766b51527ac46244176c766b00c3539c009c6c766b52527ac46c766b52c3630f0001036c766b51527ac46220176c766b00c3549c009c6c766b52527ac46c766b52c3630f0001046c766b51527ac462fc166c766b00c3559c009c6c766b52527ac46c766b52c3630f0001056c766b51527ac462d8166c766b00c3569c009c6c766b52527ac46c766b52c3630f0001066c766b51527ac462b4166c766b00c3579c009c6c766b52527ac46c766b52c3630f0001076c766b51527ac46290166c766b00c3589c009c6c766b52527ac46c766b52c3630f0001086c766b51527ac4626c166c766b00c3599c009c6c766b52527ac46c766b52c3630f0001096c766b51527ac46248166c766b00c35a9c009c6c766b52527ac46c766b52c3630f00010a6c766b51527ac46224166c766b00c35b9c009c6c766b52527ac46c766b52c3630f00010b6c766b51527ac46200166c766b00c35c9c009c6c766b52527ac46c766b52c3630f00010c6c766b51527ac462dc156c766b00c35d9c009c6c766b52527ac46c766b52c3630f00010d6c766b51527ac462b8156c766b00c35e9c009c6c766b52527ac46c766b52c3630f00010e6c766b51527ac46294156c766b00c35f9c009c6c766b52527ac46c766b52c3630f00010f6c766b51527ac46270156c766b00c3609c009c6c766b52527ac46c766b52c3630f0001106c766b51527ac4624c156c766b00c301119c009c6c766b52527ac46c766b52c3630f0001116c766b51527ac46227156c766b00c301129c009c6c766b52527ac46c766b52c3630f0001126c766b51527ac46202156c766b00c301139c009c6c766b52527ac46c766b52c3630f0001136c766b51527ac462dd146c766b00c301149c009c6c766b52527ac46c766b52c3630f0001146c766b51527ac462b8146c766b00c301159c009c6c766b52527ac46c766b52c3630f0001156c766b51527ac46293146c766b00c301169c009c6c766b52527ac46c766b52c3630f0001166c766b51527ac4626e146c766b00c301179c009c6c766b52527ac46c766b52c3630f0001176c766b51527ac46249146c766b00c301189c009c6c766b52527ac46c766b52c3630f0001186c766b51527ac46224146c766b00c301199c009c6c766b52527ac46c766b52c3630f0001196c766b51527ac462ff136c766b00c3011a9c009c6c766b52527ac46c766b52c3630f00011a6c766b51527ac462da136c766b00c3011b9c009c6c766b52527ac46c766b52c3630f00011b6c766b51527ac462b5136c766b00c3011c9c009c6c766b52527ac46c766b52c3630f00011c6c766b51527ac46290136c766b00c3011d9c009c6c766b52527ac46c766b52c3630f00011d6c766b51527ac4626b136c766b00c3011e9c009c6c766b52527ac46c766b52c3630f00011e6c766b51527ac46246136c766b00c3011f9c009c6c766b52527ac46c766b52c3630f00011f6c766b51527ac46221136c766b00c301209c009c6c766b52527ac46c766b52c3630f0001206c766b51527ac462fc126c766b00c301219c009c6c766b52527ac46c766b52c3630f0001216c766b51527ac462d7126c766b00c301229c009c6c766b52527ac46c766b52c3630f0001226c766b51527ac462b2126c766b00c301239c009c6c766b52527ac46c766b52c3630f0001236c766b51527ac4628d126c766b00c301249c009c6c766b52527ac46c766b52c3630f0001246c766b51527ac46268126c766b00c301259c009c6c766b52527ac46c766b52c3630f0001256c766b51527ac46243126c766b00c301269c009c6c766b52527ac46c766b52c3630f0001266c766b51527ac4621e126c766b00c301279c009c6c766b52527ac46c766b52c3630f0001276c766b51527ac462f9116c766b00c301289c009c6c766b52527ac46c766b52c3630f0001286c766b51527ac462d4116c766b00c301299c009c6c766b52527ac46c766b52c3630f0001296c766b51527ac462af116c766b00c3012a9c009c6c766b52527ac46c766b52c3630f00012a6c766b51527ac4628a116c766b00c3012b9c009c6c766b52527ac46c766b52c3630f00012b6c766b51527ac46265116c766b00c3012c9c009c6c766b52527ac46c766b52c3630f00012c6c766b51527ac46240116c766b00c3012d9c009c6c766b52527ac46c766b52c3630f00012d6c766b51527ac4621b116c766b00c3012e9c009c6c766b52527ac46c766b52c3630f00012e6c766b51527ac462f6106c766b00c3012f9c009c6c766b52527ac46c766b52c3630f00012f6c766b51527ac462d1106c766b00c301309c009c6c766b52527ac46c766b52c3630f0001306c766b51527ac462ac106c766b00c301319c009c6c766b52527ac46c766b52c3630f0001316c766b51527ac46287106c766b00c301329c009c6c766b52527ac46c766b52c3630f0001326c766b51527ac46262106c766b00c301339c009c6c766b52527ac46c766b52c3630f0001336c766b51527ac4623d106c766b00c301349c009c6c766b52527ac46c766b52c3630f0001346c766b51527ac46218106c766b00c301359c009c6c766b52527ac46c766b52c3630f0001356c766b51527ac462f30f6c766b00c301369c009c6c766b52527ac46c766b52c3630f0001366c766b51527ac462ce0f6c766b00c301379c009c6c766b52527ac46c766b52c3630f0001376c766b51527ac462a90f6c766b00c301389c009c6c766b52527ac46c766b52c3630f0001386c766b51527ac462840f6c766b00c301399c009c6c766b52527ac46c766b52c3630f0001396c766b51527ac4625f0f6c766b00c3013a9c009c6c766b52527ac46c766b52c3630f00013a6c766b51527ac4623a0f6c766b00c3013b9c009c6c766b52527ac46c766b52c3630f00013b6c766b51527ac462150f6c766b00c3013c9c009c6c766b52527ac46c766b52c3630f00013c6c766b51527ac462f00e6c766b00c3013d9c009c6c766b52527ac46c766b52c3630f00013d6c766b51527ac462cb0e6c766b00c3013e9c009c6c766b52527ac46c766b52c3630f00013e6c766b51527ac462a60e6c766b00c3013f9c009c6c766b52527ac46c766b52c3630f00013f6c766b51527ac462810e6c766b00c301409c009c6c766b52527ac46c766b52c3630f0001406c766b51527ac4625c0e6c766b00c301419c009c6c766b52527ac46c766b52c3630f0001416c766b51527ac462370e6c766b00c301429c009c6c766b52527ac46c766b52c3630f0001426c766b51527ac462120e6c766b00c301439c009c6c766b52527ac46c766b52c3630f0001436c766b51527ac462ed0d6c766b00c301449c009c6c766b52527ac46c766b52c3630f0001446c766b51527ac462c80d6c766b00c301459c009c6c766b52527ac46c766b52c3630f0001456c766b51527ac462a30d6c766b00c301469c009c6c766b52527ac46c766b52c3630f0001466c766b51527ac4627e0d6c766b00c301479c009c6c766b52527ac46c766b52c3630f0001476c766b51527ac462590d6c766b00c301489c009c6c766b52527ac46c766b52c3630f0001486c766b51527ac462340d6c766b00c301499c009c6c766b52527ac46c766b52c3630f0001496c766b51527ac4620f0d6c766b00c3014a9c009c6c766b52527ac46c766b52c3630f00014a6c766b51527ac462ea0c6c766b00c3014b9c009c6c766b52527ac46c766b52c3630f00014b6c766b51527ac462c50c6c766b00c3014c9c009c6c766b52527ac46c766b52c3630f00014c6c766b51527ac462a00c6c766b00c3014d9c009c6c766b52527ac46c766b52c3630f00014d6c766b51527ac4627b0c6c766b00c3014e9c009c6c766b52527ac46c766b52c3630f00014e6c766b51527ac462560c6c766b00c3014f9c009c6c766b52527ac46c766b52c3630f00014f6c766b51527ac462310c6c766b00c301509c009c6c766b52527ac46c766b52c3630f0001506c766b51527ac4620c0c6c766b00c301519c009c6c766b52527ac46c766b52c3630f0001516c766b51527ac462e70b6c766b00c301529c009c6c766b52527ac46c766b52c3630f0001526c766b51527ac462c20b6c766b00c301539c009c6c766b52527ac46c766b52c3630f0001536c766b51527ac4629d0b6c766b00c301549c009c6c766b52527ac46c766b52c3630f0001546c766b51527ac462780b6c766b00c301559c009c6c766b52527ac46c766b52c3630f0001556c766b51527ac462530b6c766b00c301569c009c6c766b52527ac46c766b52c3630f0001566c766b51527ac4622e0b6c766b00c301579c009c6c766b52527ac46c766b52c3630f0001576c766b51527ac462090b6c766b00c301589c009c6c766b52527ac46c766b52c3630f0001586c766b51527ac462e40a6c766b00c301599c009c6c766b52527ac46c766b52c3630f0001596c766b51527ac462bf0a6c766b00c3015a9c009c6c766b52527ac46c766b52c3630f00015a6c766b51527ac4629a0a6c766b00c3015b9c009c6c766b52527ac46c766b52c3630f00015b6c766b51527ac462750a6c766b00c3015c9c009c6c766b52527ac46c766b52c3630f00015c6c766b51527ac462500a6c766b00c3015d9c009c6c766b52527ac46c766b52c3630f00015d6c766b51527ac4622b0a6c766b00c3015e9c009c6c766b52527ac46c766b52c3630f00015e6c766b51527ac462060a6c766b00c3015f9c009c6c766b52527ac46c766b52c3630f00015f6c766b51527ac462e1096c766b00c301609c009c6c766b52527ac46c766b52c3630f0001606c766b51527ac462bc096c766b00c301619c009c6c766b52527ac46c766b52c3630f0001616c766b51527ac46297096c766b00c301629c009c6c766b52527ac46c766b52c3630f0001626c766b51527ac46272096c766b00c301639c009c6c766b52527ac46c766b52c3630f0001636c766b51527ac4624d096c766b00c301649c009c6c766b52527ac46c766b52c3630f0001646c766b51527ac46228096c766b00c301659c009c6c766b52527ac46c766b52c3630f0001656c766b51527ac46203096c766b00c301669c009c6c766b52527ac46c766b52c3630f0001666c766b51527ac462de086c766b00c301679c009c6c766b52527ac46c766b52c3630f0001676c766b51527ac462b9086c766b00c301689c009c6c766b52527ac46c766b52c3630f0001686c766b51527ac46294086c766b00c301699c009c6c766b52527ac46c766b52c3630f0001696c766b51527ac4626f086c766b00c3016a9c009c6c766b52527ac46c766b52c3630f00016a6c766b51527ac4624a086c766b00c3016b9c009c6c766b52527ac46c766b52c3630f00016b6c766b51527ac46225086c766b00c3016c9c009c6c766b52527ac46c766b52c3630f00016c6c766b51527ac46200086c766b00c3016d9c009c6c766b52527ac46c766b52c3630f00016d6c766b51527ac462db076c766b00c3016e9c009c6c766b52527ac46c766b52c3630f00016e6c766b51527ac462b6076c766b00c3016f9c009c6c766b52527ac46c766b52c3630f00016f6c766b51527ac46291076c766b00c301709c009c6c766b52527ac46c766b52c3630f0001706c766b51527ac4626c076c766b00c301719c009c6c766b52527ac46c766b52c3630f0001716c766b51527ac46247076c766b00c301729c009c6c766b52527ac46c766b52c3630f0001726c766b51527ac46222076c766b00c301739c009c6c766b52527ac46c766b52c3630f0001736c766b51527ac462fd066c766b00c301749c009c6c766b52527ac46c766b52c3630f0001746c766b51527ac462d8066c766b00c301759c009c6c766b52527ac46c766b52c3630f0001756c766b51527ac462b3066c766b00c301769c009c6c766b52527ac46c766b52c3630f0001766c766b51527ac4628e066c766b00c301779c009c6c766b52527ac46c766b52c3630f0001776c766b51527ac46269066c766b00c301789c009c6c766b52527ac46c766b52c3630f0001786c766b51527ac46244066c766b00c301799c009c6c766b52527ac46c766b52c3630f0001796c766b51527ac4621f066c766b00c3017a9c009c6c766b52527ac46c766b52c3630f00017a6c766b51527ac462fa056c766b00c3017b9c009c6c766b52527ac46c766b52c3630f00017b6c766b51527ac462d5056c766b00c3017c9c009c6c766b52527ac46c766b52c3630f00017c6c766b51527ac462b0056c766b00c3017d9c009c6c766b52527ac46c766b52c3630f00017d6c766b51527ac4628b056c766b00c3017e9c009c6c766b52527ac46c766b52c3630f00017e6c766b51527ac46266056c766b00c3017f9c009c6c766b52527ac46c766b52c3630f00017f6c766b51527ac46241056c766b00c30280009c009c6c766b52527ac46c766b52c3630f0001806c766b51527ac4621b056c766b00c30281009c009c6c766b52527ac46c766b52c3630f0001816c766b51527ac462f5046c766b00c30282009c009c6c766b52527ac46c766b52c3630f0001826c766b51527ac462cf046c766b00c30283009c009c6c766b52527ac46c766b52c3630f0001836c766b51527ac462a9046c766b00c30284009c009c6c766b52527ac46c766b52c3630f0001846c766b51527ac46283046c766b00c30285009c009c6c766b52527ac46c766b52c3630f0001856c766b51527ac4625d046c766b00c30286009c009c6c766b52527ac46c766b52c3630f0001866c766b51527ac46237046c766b00c30287009c009c6c766b52527ac46c766b52c3630f0001876c766b51527ac46211046c766b00c30288009c009c6c766b52527ac46c766b52c3630f0001886c766b51527ac462eb036c766b00c30289009c009c6c766b52527ac46c766b52c3630f0001896c766b51527ac462c5036c766b00c3028a009c009c6c766b52527ac46c766b52c3630f00018a6c766b51527ac4629f036c766b00c3028b009c009c6c766b52527ac46c766b52c3630f00018b6c766b51527ac46279036c766b00c3028c009c009c6c766b52527ac46c766b52c3630f00018c6c766b51527ac46253036c766b00c3028d009c009c6c766b52527ac46c766b52c3630f00018d6c766b51527ac4622d036c766b00c3028e009c009c6c766b52527ac46c766b52c3630f00018e6c766b51527ac46207036c766b00c3028f009c009c6c766b52527ac46c766b52c3630f00018f6c766b51527ac462e1026c766b00c30290009c009c6c766b52527ac46c766b52c3630f0001906c766b51527ac462bb026c766b00c30291009c009c6c766b52527ac46c766b52c3630f0001916c766b51527ac46295026c766b00c30292009c009c6c766b52527ac46c766b52c3630f0001926c766b51527ac4626f026c766b00c30293009c009c6c766b52527ac46c766b52c3630f0001936c766b51527ac46249026c766b00c30294009c009c6c766b52527ac46c766b52c3630f0001946c766b51527ac46223026c766b00c30295009c009c6c766b52527ac46c766b52c3630f0001956c766b51527ac462fd016c766b00c30296009c009c6c766b52527ac46c766b52c3630f0001966c766b51527ac462d7016c766b00c30297009c009c6c766b52527ac46c766b52c3630f0001976c766b51527ac462b1016c766b00c30298009c009c6c766b52527ac46c766b52c3630f0001986c766b51527ac4628b016c766b00c30299009c009c6c766b52527ac46c766b52c3630f0001996c766b51527ac46265016c766b00c3029a009c009c6c766b52527ac46c766b52c3630f00019a6c766b51527ac4623f016c766b00c3029b009c009c6c766b52527ac46c766b52c3630f00019b6c766b51527ac46219016c766b00c3029c009c009c6c766b52527ac46c766b52c3630f00019c6c766b51527ac462f3006c766b00c3029d009c009c6c766b52527ac46c766b52c3630f00019d6c766b51527ac462cd006c766b00c3029e009c009c6c766b52527ac46c766b52c3630f00019e6c766b51527ac462a7006c766b00c3029f009c009c6c766b52527ac46c766b52c3630f00019f6c766b51527ac46281006c766b00c302a0009c009c6c766b52527ac46c766b52c3630f0001a06c766b51527ac4625b006c766b00c302a1009c009c6c766b52527ac46c766b52c3630f0001a16c766b51527ac46235006c766b00c302a2009c009c6c766b52527ac46c766b52c3630f0001a26c766b51527ac4620f0001ff6c766b51527ac46203006c766b51c3616c7566"
	
	fmt.Println(code[:6])
	_, err := ctx.Ont.DeploySmartContract(
		ctx.OntClient.Account1,
		code,
		[]contract.ContractParameterType{contract.Array},
		contract.ContractParameterType(contract.Boolean),
		"TestONTID",
		"1.0",
		"",
		"",
		"",
		types.NEOVM,
	)

	script, _ := hex.DecodeString(code)
	scripthash, _ := common.ToCodeHash(script)
	
	fmt.Println("codehash = %v", hex.EncodeToString(scripthash.ToArray()))

	if err != nil {
		ctx.LogError("TestONTID DeploySmartContract error:%s", err)
		return false
	}
	//等待出块
	_, err = ctx.Ont.WaitForGenerateBlock(30*time.Second, 2)
	if err != nil {
		ctx.LogError("TestONTID WaitForGenerateBlock error:%s", err)
		return false
	}

	pk := ctx.OntClient.Account1.PublicKey
	encodedPubKey, _ := pk.EncodePoint(true)
	id := []byte{0x02, 0x01, 0x02}

	params := []interface{}{"CreateIdentityByPublicKey", 
			[]interface{}{id, encodedPubKey}}
	res, err := ctx.Ont.InvokeSmartContract(
		ctx.OntClient.Account1,
		code,
		params,
	)

	params = []interface{}{"AddKey", []interface{}{id, 
		[]byte{2, 91, 68, 0, 97, 137, 240,
		74, 14, 225, 148, 187, 116, 116, 236,
		220, 204, 15, 8, 173, 250, 15, 119, 34,
		116, 182, 17, 198, 120, 179, 147, 224, 56}, encodedPubKey}}
	
	res, err = ctx.Ont.InvokeSmartContract(
		ctx.OntClient.Account1,
		code,
		params,
	)		
	
	if err != nil {
		ctx.LogError("TestONTID InvokeSmartContract error:%s", err)
		return false
	}
	err = ctx.AssertToInt(res, len(params))
	if err != nil {
		ctx.LogError("TestONTID test failed %s", err)
		return false
	}
	
	
	return true
}
